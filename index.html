<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Activity Timer – HK style</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Trajan+Pro:wght@400;700&family=Cinzel:wght@400;600&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
body{
    background:url('image.png') center/cover no-repeat fixed;
    min-height:100vh;
    font-family:'Cinzel',serif;
    color:#f5f5dc;
    overflow-x:hidden;
}
.container{max-width:900px;margin:0 auto;padding:40px 20px;text-align:center}
.title{font-family:'Trajan Pro',serif;font-size:2.8rem;letter-spacing:.2em;margin-bottom:40px}
.activity-slots{margin-top:20px}
.activity-slot{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin:12px 0;
    padding:14px 28px;
    background:rgba(0,0,0,0.5);
    border-top:2px solid rgba(245,245,220,0.5);
    font-size:1.2rem;
    letter-spacing:0.05em;
    transition:background .2s ease;
    gap:10px;
}
.activity-slot.selected{
    background:rgba(255,255,255,0.15);
    border-top-color:#f5f5dc;
}
.slot-number{font-size:1.6rem;opacity:.8}
.slot-content{flex-grow:1;display:flex;align-items:center;gap:20px;flex-wrap:wrap}
.activity-input{
    background:transparent;
    border:none;
    color:#f5f5dc;
    font-family:'Cinzel',serif;
    font-size:1.2rem;
    width:260px;
    outline:none;
    border-bottom:1px solid rgba(245,245,220,0.3);
    padding:4px 0;
}
.activity-input::placeholder{color:rgba(245,245,220,0.4);font-style:italic}
.timer-controls{display:flex;gap:8px;align-items:center}
.mini-timer{font-size:1rem;min-width:70px;text-align:center;font-family:monospace}
.mini-btn{
    background:rgba(0,0,0,0.6);
    border:1px solid rgba(245,245,220,0.3);
    color:#f5f5dc;
    padding:6px;
    font-size:0.9rem;
    cursor:pointer;
    border-radius:3px;
    transition:transform .1s ease,border-color .2s ease;
}
.mini-btn:hover{border-color:#f5f5dc;transform:scale(1.1)}
.slot-clear{
    background:rgba(0,0,0,0.6);
    border:1px solid rgba(245,245,220,0.3);
    color:#f5f5dc;
    padding:6px 12px;
    font-size:0.8rem;
    cursor:pointer;
    border-radius:3px;
    visibility:hidden;
}
.controls{margin-top:30px}
.add-slot-btn{
    background:rgba(0,0,0,0.6);
    border:2px solid rgba(245,245,220,0.5);
    color:#f5f5dc;
    padding:10px 24px;
    font-size:1rem;
    letter-spacing:0.1em;
    cursor:pointer;
    border-radius:5px;
    transition:border-color .2s ease,background .2s ease;
}
.add-slot-btn:hover{border-color:#f5f5dc;background:rgba(255,255,255,0.1)}
</style>
</head>
<body>
<div class="container">
  <h1 class="title">Select Profile</h1>
  <div class="activity-slots" id="activitySlots">
    <!-- 4 initial slots -->
    <div class="activity-slot" data-slot="1">
      <span class="slot-number">1.</span>
      <div class="slot-content">
        <input type="text" class="activity-input" placeholder="Activity name">
        <div class="timer-controls">
          <div class="mini-timer">00:00</div>
          <button class="mini-btn start-btn">▶</button>
          <button class="mini-btn pause-btn">⏸</button>
          <button class="mini-btn reset-btn">⏹</button>
        </div>
      </div>
      <button class="slot-clear">Clear</button>
    </div>
    <div class="activity-slot" data-slot="2">
      <span class="slot-number">2.</span>
      <div class="slot-content">
        <input type="text" class="activity-input" placeholder="Activity name">
        <div class="timer-controls">
          <div class="mini-timer">00:00</div>
          <button class="mini-btn start-btn">▶</button>
          <button class="mini-btn pause-btn">⏸</button>
          <button class="mini-btn reset-btn">⏹</button>
        </div>
      </div>
      <button class="slot-clear">Clear</button>
    </div>
    <div class="activity-slot" data-slot="3">
      <span class="slot-number">3.</span>
      <div class="slot-content">
        <input type="text" class="activity-input" placeholder="Activity name">
        <div class="timer-controls">
          <div class="mini-timer">00:00</div>
          <button class="mini-btn start-btn">▶</button>
          <button class="mini-btn pause-btn">⏸</button>
          <button class="mini-btn reset-btn">⏹</button>
        </div>
      </div>
      <button class="slot-clear">Clear</button>
    </div>
    <div class="activity-slot" data-slot="4">
      <span class="slot-number">4.</span>
      <div class="slot-content">
        <input type="text" class="activity-input" placeholder="Activity name">
        <div class="timer-controls">
          <div class="mini-timer">00:00</div>
          <button class="mini-btn start-btn">▶</button>
          <button class="mini-btn pause-btn">⏸</button>
          <button class="mini-btn reset-btn">⏹</button>
        </div>
      </div>
      <button class="slot-clear">Clear</button>
    </div>
  </div>
  <div class="controls"><button class="add-slot-btn" id="addSlotBtn">+ Add Slot</button></div>
</div>
<script>
let timers={},intervals={},slotCounter=4;
let currentIndex=0,slots=[];
function formatTime(s){
  const m=Math.floor(s/60),sec=s%60;
  return `${String(m).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;
}
function getSlotData(el){
  return {
    slotId:el.dataset.slot,
    input:el.querySelector('.activity-input'),
    timerDisplay:el.querySelector('.mini-timer'),
    startBtn:el.querySelector('.start-btn'),
    pauseBtn:el.querySelector('.pause-btn'),
    resetBtn:el.querySelector('.reset-btn'),
    clearBtn:el.querySelector('.slot-clear')
  };
}
function startTimer(el){
  const {slotId,timerDisplay}=getSlotData(el);
  if(!timers[slotId]) timers[slotId]=0;
  if(intervals[slotId]) clearInterval(intervals[slotId]);
  intervals[slotId]=setInterval(()=>{
    timers[slotId]++;timerDisplay.textContent=formatTime(timers[slotId]);
  },1000);
}
function pauseTimer(el){
  const {slotId}=getSlotData(el);
  if(intervals[slotId]){clearInterval(intervals[slotId]);delete intervals[slotId];}
}
function resetTimer(el){
  const {slotId,timerDisplay}=getSlotData(el);
  if(intervals[slotId]){clearInterval(intervals[slotId]);delete intervals[slotId];}
  timers[slotId]=0;timerDisplay.textContent='00:00';
}
function clearSlot(el){
  const {slotId,input,timerDisplay}=getSlotData(el);
  pauseTimer(el);
  timers[slotId]=0;timerDisplay.textContent='00:00';input.value='';
}
function addNewSlot(){
  slotCounter++;
  const cont=document.getElementById('activitySlots');
  const div=document.createElement('div');
  div.className='activity-slot';
  div.dataset.slot=slotCounter;
  div.innerHTML=`
    <span class="slot-number">${slotCounter}.</span>
    <div class="slot-content">
      <input type="text" class="activity-input" placeholder="Activity name">
      <div class="timer-controls">
        <div class="mini-timer">00:00</div>
        <button class="mini-btn start-btn">▶</button>
        <button class="mini-btn pause-btn">⏸</button>
        <button class="mini-btn reset-btn">⏹</button>
      </div>
    </div>
    <button class="slot-clear">Clear</button>`;
  cont.appendChild(div);
  timers[slotCounter]=0;
  setupSlotEvents(div);
  refreshSlots();
}
function setupSlotEvents(el){
  const {input,startBtn,pauseBtn,resetBtn,clearBtn}=getSlotData(el);
  startBtn.onclick=e=>{e.preventDefault();startTimer(el)};
  pauseBtn.onclick=e=>{e.preventDefault();pauseTimer(el)};
  resetBtn.onclick=e=>{e.preventDefault();resetTimer(el)};
  clearBtn.onclick=e=>{e.preventDefault();clearSlot(el)};
}
function highlightRow(i){
  slots.forEach((s,idx)=>{
    const btn=s.querySelector('.slot-clear');
    if(idx===i){s.classList.add('selected');btn.style.visibility='visible';}
    else {s.classList.remove('selected');btn.style.visibility='hidden';}
  });
}
function refreshSlots(){
  slots=[...document.querySelectorAll('.activity-slot')];
  highlightRow(currentIndex);
}
function initialize(){
  for(let i=1;i<=4;i++)timers[i]=0;
  document.querySelectorAll('.activity-slot').forEach(setupSlotEvents);
  refreshSlots();
  document.getElementById('addSlotBtn').onclick=addNewSlot;
  document.addEventListener('keydown',e=>{
    if(e.key==='ArrowDown'){e.preventDefault();currentIndex=(currentIndex+1)%slots.length;highlightRow(currentIndex);}
    else if(e.key==='ArrowUp'){e.preventDefault();currentIndex=(currentIndex-1+slots.length)%slots.length;highlightRow(currentIndex);}
    else if(e.key.length===1 && !e.ctrlKey && !e.metaKey && !e.altKey){
      const input=slots[currentIndex].querySelector('.activity-input');
      input.focus();
    }
  });
}
document.readyState==='loading'?document.addEventListener('DOMContentLoaded',initialize):initialize();
</script>
</body>
</html>
